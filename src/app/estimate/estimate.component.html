<div class="row">
  <div class="col s10">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row">

      <div class="offset-s1" *ngIf="existingtaskList?.length > 0">

        
        
            <div><h4>{{productname}}</h4> </div>
              <table class="responsive-table">
                <thead>
                  <tr>
                    <th>Part Name</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of existingtaskList">
                    <td>
                      {{item.name}}
                    </td>
                    <td>
                      {{item.price}}
                    </td>
                    <td><i class="material-icons small" (click)="onClickDelete(item.value)">delete</i></td>

                  </tr>

                </tbody>

              </table>
              <div style="margin-left:20px;margin-top:20px">
                <a class="btn-floating btn-small waves-effect waves-light green small" (click)="addPart()"><i class="material-icons">add</i></a>
              </div>
            
      </div>


      <div class="card-panel" *ngIf="selectCheckList?.length > 0 ">
        <div class="input-field ">
          <select name="singleSelect" formControlName="checklistid" name="selectedOption" materialize="material_select" [materializeSelectOptions]="selectOptions"
            (change)="getTasks(form.value.checklistid)">
            <option value="" disabled selected>Select New Part</option>
            <option *ngFor="let option of selectCheckList" [value]="option.value">{{option.name}}</option>
          </select>


        </div>


        <div class="row" *ngIf="taskList?.length > 0">
          <ul class="collection with-header ">
            <li class="collection-header red darken-1">
              <h4>Part Details</h4>
            </li>
            <li *ngFor="let item of taskList" class="collection-item">{{item.name}}
              <table>

                <tbody>
                  <tr>
                    <td>Name</td>
                    <td>{{item.partName}}</td>


                    <td>Product Brand</td>
                    <td>{{item.partBrand}}</td>

                    <td>Part Type</td>
                    <td>{{item.partType}}</td>


                    <td>Category</td>
                    <td>{{item.category}}</td>
                  </tr>
                  <tr>
                    <td>SubCategory</td>
                    <td>{{item.subCategory}}</td>

                    <td>Price</td>
                    <td>{{item.price}}</td>

                    <td>Comments</td>
                    <td>{{item.comments}}</td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <div class="col s12">
                <a class="btn-floating btn-large  green" style="margin :20px;margin-left: 45%" (click)="addpart()"><i class="material-icons">add</i></a>

              </div>
            </li>
          </ul>
        </div>

        <div class="row" *ngIf="selectedparts?.length > 0">
          <ul class="collection with-header ">
            <li class="collection-header green darken-1">
              <h4>New Part Names</h4>
            </li>
            <li *ngFor="let part of selectedparts ;let i = index" class="collection-item "><span>
                {{part.partName}}</span> <a><i class="small material-icons deletetask  " (click)="deletepart(i)">delete</i></a></li>

          </ul>
        </div>
        <div class="card-panel ">

          <blockquote>
            <h3>
              Tentative Cost: {{totalEstimateForProduct}}
            </h3>
          </blockquote>

        </div>
      </div>


    </form>



  </div>

</div>