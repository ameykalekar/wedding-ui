<div style = "color:grey;border-bottom:solid grey">
<h4>Create Ticket</h4>
</div>
<div style="margin-top: 10px;padding-left:10px">
   
  <div class="row"> 
     
  <div class="col s6 z-depth-1" id="panell">
    <div *ngIf="ticketerror"
    class="card-panel   red darken-4 accent-4 "
    style="padding: 5px; margin: 10px">
    <span class="white-text">Create Ticket Failed,Please try Again</span>
  </div>
      <div *ngIf="ticketcreated"
      class="card-panel  light-green accent-4 "
      style="padding: 5px; margin: 10px">
      <span class="white-text">Ticket Created successfully </span>
    </div>
      <div class="row">
          <form class="col s12">
              <div class="row">
                  <div class="col s12">
                      <label for="disabled">CustomerID </label>
                    <input disabled value="{{globalservice.user.username}}" type="text" class="validate">
                   
                  </div>
                </div>
            <div class="row">
              <div class="col s6">
                  <label for="fname">First Name</label> 
                <input disabled value="{{globalservice.user.userinfo.firstname}}" id="fname" type="text" class="validate">
                
              </div>
              <div class="col s6">
                  <label for="disabled">Last Name</label>
                <input disabled value="{{globalservice.user.userinfo.lastname}}" id="lname" type="text" class="validate">
             
              </div>
            </div>
            
            <div class="row">
                <form [formGroup]="form" (ngSubmit)="onSubmit()" class="col s12">
                  <div class="row">
                    <div class="input-field col s6">
                      <input id="input_text" type="text" data-length="10" formControlName="devicelocatoin">
                      <label for="input_text">Device Location</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <textarea id="textarea2" class="materialize-textarea" data-length="120" formControlName="complaint"
                      [ngClass]="{
                        'invalid': form.controls.complaint.invalid && form.controls.complaint.dirty ,
                        'valid': form.controls.complaint.valid && form.controls.complaint.dirty 
                       
                      }"
                      ></textarea>
                      <label for="textarea2">Enter Complaint</label>
                      <span style="color: red"  [hidden]="!(form.controls.complaint.invalid && form.controls.complaint.dirty)" >Please Enter Valid Complaint Details and Size should be more than 20 character</span>
                    </div>
                  </div>

                  <div class="row">
                    <div class="input-field col s12">
                      <textarea id="textarea2" class="materialize-textarea" data-length="120" formControlName="deviceid"></textarea>
                      <label for="textarea2">Device ID:</label>
                    </div>
                  </div>

                  <button class="waves-effect waves-light btn " id="loginbtn" [disabled]="!form.valid">Create Ticket</button>
    <button class="waves-effect waves-light btn reset" id="reset"  (click)="reset()">Reset</button>
                </form>
              </div>
            
          </form>
        </div>
     
  </div> 
    </div> 
</div>

